<!DOCTYPE html>
<html>
<head>
    <title>Linea diagonale animata</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <canvas id="myCanvas" width="300" height="300"></canvas>

    <script>
        const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');

        // Dimensioni del canvas
        const width = canvas.width;
        const height = canvas.height;

        // Durata dell'animazione in millisecondi
        const duration = 2000;

        // Funzione per disegnare la linea
        function drawLine(progress) {
            ctx.clearRect(0, 0, width, height); // Pulisci il canvas
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(width * progress, height * progress);
            ctx.stroke();
        }

        // Animazione
        let startTime = null;
        function animate(currentTime) {
            if (startTime === null) startTime = currentTime;
            const progress = Math.min((currentTime - startTime) / duration, 1);
            drawLine(progress);
            if (progress < 1) {
                requestAnimationFrame(animate);
            }
        }

        requestAnimationFrame(animate);
    </script>
</body>
</html>